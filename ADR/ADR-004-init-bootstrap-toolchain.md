# ADR-004: Bootstrap toolchain для INIT-001

- Статус: accepted
- Дата: 2026-02-24
- Связанные задачи: [INIT]-[001]

## Контекст

Нужно быстро поднять поддерживаемый каркас client-only игры для Яндекс Игр с контрактом `TypeScript + PixiJS v8`, локальным dev-циклом и минимальной проверяемостью, не выходя за scope INIT-001.

## Решение

1. В качестве runtime-инструментария выбран `Vite` как минимальный dev/build слой для web-клиента.
2. Базовый рендер реализован на `PixiJS v8` с одним canvas в portrait-only viewport.
3. Для базовой верификации добавлен `Vitest` smoke-test на ключевой viewport-инвариант.
4. Для стабильного Playwright-capture установлен `preserveDrawingBuffer` и добавлен статический backdrop-слой stage.

## Последствия

- Проект запускается локально одной командой `npm run dev`.
- Есть минимальный инженерный baseline для дальнейших INIT-задач (`build`, `typecheck`, `test`).
- Решение не вводит серверную зависимость и сохраняет client-only архитектуру.
- Стабильность автоматических скриншотов улучшена за счёт небольшого компромисса в производительности (`preserveDrawingBuffer`) на bootstrap-этапе.
