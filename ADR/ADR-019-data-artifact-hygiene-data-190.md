# ADR-019: Политика гигиены временных data-артефактов

- Статус: accepted
- Дата: 2026-02-25
- Связанные задачи: [DATA]-[190]

## Контекст

Этап DATA-001..DATA-005 добавил в проект постоянные артефакты data-слоя (state schema, dictionary
pipeline, миграции, тесты и документацию). При этом для локальной отладки и проверки обычно
появляются одноразовые файлы (`tmp/dump/draft` CSV/JSON), которые не должны попадать в VCS.

Нужен воспроизводимый способ приборки и явная политика ignore для временных data-файлов.

## Решение

1. Добавить команду `npm run clean:data` как стандартную локальную приборку data-контура.
   - Команда переиспользует `clean:init`.
   - Дополнительно удаляет шаблонные временные data-файлы:
     - `data/*.tmp.csv`, `data/*.tmp.json`;
     - `data/*.dump.csv`, `data/*.dump.json`;
     - `data/*.draft.csv`, `data/*.draft.json`.
2. Зафиксировать те же паттерны в `.gitignore`, чтобы одноразовые артефакты не попадали в коммиты.
3. Считать источниками правды для data-этапа только целевые файлы схем, миграций, тестов и
   документации; временные выгрузки не являются частью репозитория.

## Последствия

- Очистка data-этапа выполняется одной командой и не зависит от ручных шагов.
- Снижается риск попадания debug/dump файлов в историю Git.
- Репозиторий сохраняет только поддерживаемые data-артефакты, соответствующие v1 scope.
