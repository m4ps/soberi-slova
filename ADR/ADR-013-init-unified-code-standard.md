# ADR-013: Единый стандарт init-кода через shared-константы и утилиты

- Статус: accepted
- Дата: 2026-02-25
- Связанные задачи: [INIT]-[094]

## Контекст

К окончанию init-этапа в кодовой базе появились стилистические расхождения:
1. Повторяющаяся реализация `toErrorMessage` в `main`, `application` и `PlatformYandex`.
2. Дубли строковых литералов `moduleName` в контрактах и фабриках модулей, что повышает риск рассинхронизации и опечаток при рефакторинге.

Задача INIT-094 требует привести init-модули к единому стандарту нейминга и структуры без изменения поведения.

## Решение

1. Ввести общий shared-слой для init-стандарта:
   - `src/shared/errors.ts` как единый helper преобразования ошибок в строку;
   - `src/shared/module-ids.ts` как единый реестр идентификаторов модулей.
2. Перевести все init-модули и ключевые bootstrap-контуры на эти shared-источники:
   - убрать локальные копии `toErrorMessage`;
   - типизировать и возвращать `moduleName` через `MODULE_IDS`.
3. Зафиксировать наличие `src/shared` в структуре README как часть актуальной архитектуры.

## Последствия

- Init-код стал консистентным по неймингу и базовым утилитам.
- Снижен риск скрытых расхождений в `moduleName` и дублирования базовой error-логики.
- Последующие этапы могут расширять `src/shared` как стандартную точку для общих init/data/code утилит без нарушения слоёв.
