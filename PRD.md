PRD — Endless Word Grid (Яндекс Игры) v1
1. Product Overview

Рабочее название: (placeholder)
Платформа: Яндекс Игры (web)
Форм-фактор: mobile-first, portrait-only, single-screen
Жанр: word puzzle / филворд-like / endless word search

Product Vision

Короткая, расслабляющая, визуально-премиальная словесная игра для 2–3-минутных сессий, в которую хочется возвращаться как к медитативному ритуалу.

Core Value Proposition

Один экран, без лишнего

Красивый tactile-like motion (liquid / pseudo-liquid анимации)

Бесконечный поток уровней

Мягкий UX без наказаний

Лёгкий мета-слой через all-time leaderboard

2. Problem Statement
Какая боль решается

Игроку нужна быстрая, приятная, нестрессовая игра “на пару минут”, которая:

не требует длинного вовлечения,

не перегружает интерфейсом/мета-механиками,

даёт ощущение награды за каждое найденное слово.

Почему игрок выберет эту игру

Вместо “прогресс-давления” и сложных систем:

чистый поиск слов

плавная визуальная награда

ритм коротких сессий

возврат через накопительные очки / доску лидеров

3. Product Principles (Invariants)

Ultimate Simplicity

Один основной экран.

Минимум UI-состояний и текста.

Нет лишних сущностей (текущие очки сессии, списки слов, туториал и т.п.).

Motion-first Experience

Анимация — не decoration, а часть core value.

Плавность и красота важнее “максимальной скорости input throughput”.

No Punishment UX

Ошибки ввода не наказываются.

Невалидные действия мягко игнорируются.

Endless Ritual

Нет game over.

Игрок сам определяет длительность сессии.

4. Target Audience
Primary Audience

Игроки Яндекс Игр, которые:

играют на телефоне,

заходят на 2–5 минут,

любят словесные игры,

ценят “приятное ощущение” и визуальную полировку.

Behavioral Persona (v1)

“Ритуальный игрок”

открывает игру в очереди/перерыве,

не хочет учиться правилам,

хочет сразу начать,

возвращается ради спокойного поиска + накопления очков.

5. Core Gameplay Loop
Loop

Игрок видит поле 5×5 букв.

Свайпом собирает слова по соседним клеткам (включая диагонали).

При успешном слове получает визуальную награду + очки.

Находит все целевые слова уровня.

Игра поздравляет и автоматически пересобирает следующий уровень.

Цикл повторяется бесконечно.

Win Condition (уровень)

На уровне заранее сгенерированы N целевых слов.

Игрок должен найти именно эти N слов.

Список целевых слов не показывается.

Виден только прогресс x / N.

Bonus Words

Если игрок собирает валидное слово из словаря, которое не является целевым:

слово засчитывается как бонусное

начисляются дополнительные очки

уровень это не продвигает

6. Input & Interaction Contract
6.1 Word Input Method

Основной ввод: Swipe/Drag

Tap-by-tap не используется в v1.

6.2 Path Rules

Путь слова валиден, если:

каждая следующая клетка — соседняя (8 направлений),

одна и та же клетка не может использоваться дважды в одном слове.

6.3 Undo Behavior

Разрешён возврат назад только по последней клетке (undo хвоста).

“Прыжок назад” в середину пути — не поддерживается.

6.4 Submit Moment

Слово отправляется на проверку по отпусканию пальца.

6.5 Invalid Interaction Handling

Невалидные клетки (включая уже использованные) мягко игнорируются.

Никаких штрафов, ошибок, сбросов пути.

6.6 Repeated Words (same level)

Если игрок повторно собирает уже засчитанное слово (целевое или бонусное):

полностью игнорируем

без текста/сообщения/анимации

7. Level Design & Generation
7.1 Grid

Поле: 5×5

Буквы: кириллица (включая ё как отдельную букву)

7.2 Target Word Count per Level

N = 3..7 слов

7.3 Target Word Composition

В уровне должны быть:

короткие,

средние,

и минимум 1 длинное слово.

7.4 Word Placement Geometry

Целевые слова размещаются как:

любой связный путь по соседним клеткам (8 направлений),

путь может поворачивать,

пересечения слов по клеткам/буквам разрешены.

7.5 Generator Strategy

Word-first

Выбираем набор целевых слов.

Пытаемся уложить их в 5×5.

Остальные клетки заполняем случайными буквами.

7.6 Retry / Failure Policy

Диагонали разрешены, поэтому ожидается высокая вероятность успешной укладки.

Если набор не укладывается:

сначала пробуем варианты раскладки,

затем заменяем слова по одному, а не сбрасываем весь набор сразу.

7.7 Level Rejection Rules (v1 минимальный набор)

Отбрасываем уровень/набор, если:

слишком много редких букв (ъ, ы, ь, й, щ и т.п.) в поле/наборе.

7.8 Anti-Repetition Between Levels

Генератор должен избегать сильно повторяющихся слов из недавних уровней.

Приоритет: не повторять недавно встречавшиеся целевые слова.

8. Dictionary Contract (CSV)
Source Format (пример)

id, bare, rank, type, level

Используемые поля (v1)

id — internal id

bare — слово (основная строка)

rank — частотность/ранг (используется в сложности)

type — часть речи (фильтр)

level — опционально, в v1 игнорируется

8.1 Dictionary Validation & Normalization Rules

Применяется к словарю и пользовательскому вводу:

только нижний регистр

ё — отдельная буква, не равна е

только кириллица

без дефисов, пробелов и спецсимволов

без имён собственных

только существительные (type = noun)

если в словаре встречается невалидная строка — игнорируем

8.2 Difficulty Model (v1)

Приоритет критериев:

Длина слова

Частотность / rank в исходном словаре

9. Scoring System (Numeric Contract)
9.1 Points Formula

Target word: 10 + 2 * длина

Bonus word: 2 + длина

Level clear: 30 + 5 * N

9.2 Anti-Exploit Scoring Rules

Каждое слово (целевое/бонусное) засчитывается только 1 раз за уровень

Бонусные слова дают очки только до прохождения уровня

После завершения уровня фарм бонусных слов невозможен (уровень сразу уходит в цепочку завершения/пересборки)

9.3 Records Philosophy

Leaderboard intentionally grind-friendly

Fairness by skill не приоритет v1

Это сознательная “гонка на дистанции”

10. Level Completion & Animation Order
10.1 Successful Word (обычное)

Логика / state

После валидации слово сразу считается найденным.

Очки можно начислить сразу после валидации.

Визуальная цепочка (единая)

Анимация успеха слова

Перелёт букв

Анимированное обновление прогресса x / N

10.2 Last Target Word (финал уровня)

Порядок:

Начисление очков за последнее целевое слово (в state, сразу после валидации)

Анимация последнего целевого слова

Обновление прогресса до N/N

Поздравление с прохождением уровня (ephemeral)

Начисление level clear очков (без отдельной анимации)

Автопересборка уровня (full lock)

11. Visual Feedback & Motion Language
11.1 In-Drag Feedback

Выбранные клетки визуально соединяются в мягкую “жидкую” линию

Линия ощущается как текучая масса/жижа на холсте

Текущее собираемое слово не показывается (лишний шум)

11.2 Undo Feedback

При движении назад по пути “жидкая” линия разбирается обратно

11.3 Success Feedback
Target word

“Жижа” становится чуть более упругой

Слегка светится зелёным

Буквы по одной летят в progress bar

Затем анимируется прогресс x/N

Bonus word

Аналогичная цепочка

Свечение жёлтое

Буквы летят к звёздочке/очкам

Увеличивают all-time score

11.4 No Haptics / No Vibration

Игра для web (Яндекс Игры)

Вибрации в v1 не используются

12. Reshuffle & Hint Mechanics
12.1 Hint (подсказка)
Поведение

Подсвечивает первые 2 буквы одного ещё не найденного целевого слова

Повторное использование на том же слове раскрывает больше:

3 буквы, затем 4, и т.д. до полного показа пути слова

Выбор слова

Приоритет: самое лёгкое оставшееся слово

Автозачёт

Подсказка не засчитывает слово автоматически

Игрок должен собрать его сам

12.2 Reshuffle Level (пересобрать уровень)
Контракт

Генерирует полностью новый уровень

Старый уровень целиком забывается

целевые слова

прогресс

бонусные слова

связанное состояние уровня

13. Monetization & Help Economy
13.1 Free Action Session Rule

“Сессия” = 5 минут реального времени с момента входа в игру

Каждые 5 минут доступно 1 бесплатное действие

Бесплатное действие — общий пул для:

подсказки

пересборки уровня

13.2 Timer Semantics

Таймер идёт по реальному времени, даже если вкладка свернута

Бесплатное действие автоматически возвращается по истечении 5 минут, даже без выхода из игры

13.3 Help Buttons UX States
State A — Free-now

На кнопке есть маленькая иконка в уголке

State B — Ad-required

Кнопка без иконки (обычное состояние)

State C — Disabled / Loading

Кнопка блеклая, неактивная

Дополнительно:

текст/tooltip не используются

loading = визуально тот же disabled state

13.4 Rewarded Ads Frequency

Со стороны игры не ограничиваем

Возможные ограничения зависят от Яндекс Игр (platform fill / limits)

13.5 Rewarded Ad Outcomes
Успешный просмотр

Помощь применяется

Бесплатное действие (если использовалось) списывается после успешного применения помощи

User closes ad early

Помощь не выдаётся

Ad technical error (ошибка показа)

Можно выдать помощь как goodwill (чтобы не ломать UX)

No fill / platform limit

Помощь не выдаётся

Показывается toast: «Реклама сейчас недоступна»

Кнопка помощи временно disabled на 2–5 секунд

14. One-Screen UI Hierarchy
14.1 Always Visible

Поле 5×5

Прогресс по целевым словам x / N

Суммарные очки (all-time)

Кнопка подсказки

Кнопка пересборки

Кнопка leaderboard (низкий приоритет, внизу)

14.2 Not Used in v1

Очки текущей сессии / уровня

14.3 Ephemeral (event-based)

Поздравление с прохождением уровня

Анимация перелёта букв / начисления очков

Toast об ошибке рекламы

15. Leaderboard & Yandex Integration
15.1 Leaderboard Type

Основной рекорд = all-time cumulative score

Пользователь возвращается и продолжает накапливать сумму

15.2 Score Update Strategy

Очки добавляются после каждого события начисления:

найдено слово → добавить

пройден уровень → добавить

Это снижает риск потери прогресса при закрытии вкладки.

15.3 Platform Dependency

Игра ориентирована на запуск внутри Яндекс Игр

Yandex platform/API считается обязательной средой

Отдельный fallback-runtime вне платформы в v1 не проектируется

16. Persistence & Recovery
16.1 What Must Persist (v1)

all-time score

текущий уровень (best effort)

остаток бесплатного действия / состояние 5-мин окна

16.2 Resume Contract (официальный v1)

Best effort restore

Пытаемся восстановить текущий уровень полностью

Если не удалось:

запускаем новый уровень

сохраняем очки

сохраняем free-action timer state

16.3 State Truth Rules

Если слово уже провалидировано, но анимация не завершилась — очки считаются сохранёнными

Если помощь уже применена, действие считается потраченным, даже если вкладка закрылась сразу после

17. Edge Cases & Operational UX
17.1 Double-click / Re-entrancy on Help

Принимаем только первый клик

Остальные игнорируются до завершения операции

Во время обработки любой помощи блокируются обе кнопки помощи сразу

17.2 Invalid Path Input

Невалидные клетки игнорируются без ошибки

17.3 Repeated Words on Same Level

Тихий ignore без UI-шума

18. Reshuffle Animation Contract (Level Transition)
18.1 Auto vs Manual Reshuffle

В v1 используется одна и та же анимация для:

автопересборки после победы

ручной пересборки (help action)

18.2 Visual Principle

Единый стиль: liquid / liquid-glass-like

Буквы “перетекают” и передают значение друг другу касанием

18.3 Desired Motion (Target)

Буквы стираются с ячеек

Буква появляется на случайной ячейке

Вытягивается каплей к другой ячейке

При касании “передаёт” новое буквенное значение

Новые значения прорисовываются по цепочке

После завершения — lock снимается

18.4 v1 Implementation Boundary

Допустимый fallback: pseudo-liquid

Чем более проработано — тем лучше

Это одна из основных ставок продукта

19. Non-Functional Requirements
19.1 Performance (v1 stance)

Нет жёсткого perf-budget контракта на старте (осознанная ставка)

При проблемах производительности отдельные решения будут приниматься позже

19.2 Performance Degradation Priority (если потребуется)

Упрощаем в первую очередь:

glow

тени / blur

Неприкосновенно по возможности:

базовое ощущение текучести / liquid-style motion

19.3 Rendering Architecture

WebGL / Pixi / shader-based с готовым движком

Причина: приоритет кастомных liquid-анимаций и motion quality

20. Layout & Platform UI Contract
20.1 Orientation

Portrait only

20.2 Responsive Strategy

Один mobile-first layout

Мягкое масштабирование под разные телефоны

20.3 Desktop Behavior (Yandex Games)

На десктопе показывается тот же мобильный viewport по центру

Отдельная desktop-раскладка в v1 не делается

20.4 Small Screen Priority

Приоритет: крупное поле 5×5

Вторичные элементы могут ужиматься / сдвигаться

21. Audio Policy (v1)

Фоновая музыка — не используется

Причина: пользователи часто слушают что-то своё; игра не должна отвлекать или требовать выключения музыки

SFX также вне MVP scope (см. scope cut)

22. Success Metrics (v1)
North Star

Средняя длина сессии

Guardrails

D1 retention

Доля сессий с подсказкой/пересборкой

Интерпретация

Рост session length без роста D1 может означать фрустрацию или ad-friction

Слишком высокая доля help-actions может сигнализировать:

слабую генерацию,

завышенную сложность,

плохую читаемость поля

23. MVP Scope Cut (Что НЕ делаем в v1)

Подтверждённый cut-list:

звуки / SFX

отдельный desktop UI

сезоны / второй leaderboard

адаптивная сложность по игроку

обязательное сохранение полного уровня любой ценой (если техсложно — fallback reset уровня)

achievements / daily quests

обучение / туториал

локализация (кроме русского)

кастомные темы / скины

глубокая расширенная аналитика сверх базовой

24. Open Risks (осознанные)

Высокая сложность motion/render stack

WebGL/Pixi/shader + liquid UX = высокий техриск

mitigated by pseudo-liquid fallback

Нет жёсткого perf-budget на старте

риск проблем на слабых устройствах

зафиксирован порядок деградации эффектов

Cumulative leaderboard = grind-heavy

осознанный продуктовый выбор v1

Best-effort restore вместо guaranteed restore

acceptable для v1 при сохранении очков и free-action state

25. Implementation Notes for Team (pragmatic)
State Truth vs Animation

State-first, animation-second

Любое начисление/применение помощи должно фиксироваться в состоянии сразу после валидации/успешного применения

Анимации не должны быть источником истины

Help Action Synchronization

Обе кнопки помощи имеют общий lock и согласованные состояния

UI не должен раскрывать отдельную “free token” сущность; это внутренняя логика

Generator Quality Dependency

Качество игры сильно зависит от качества входного словаря

Генератор v1 intentionally minimal by heuristics, quality mostly delegated to dictionary curation + anti-repeat logic
